<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ito Clone</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
</head>
<body>

    <div id="lobby-screen" class="screen">
        <div class="lobby-box">
            <h1>ito Clone</h1>
            <p>協力して数字を並べよう</p>
            
            <div class="input-group">
                <label>ニックネーム</label>
                <input type="text" id="username-input" placeholder="例: たなか" maxlength="8">
            </div>
            
            <div class="input-group">
                <label>部屋番号 (Room ID)</label>
                <input type="text" id="room-input" placeholder="例: 101">
            </div>

            <button id="join-btn" class="btn-play">部屋に入る / 作る</button>
        </div>
    </div>

    <div id="game-screen" class="game-container hidden">
        <header>
            <div class="theme-box">
                <p class="label">お題</p>
                <h2 id="theme-text">読み込み中...</h2>
                <div class="range-info">
                    <span id="range-min" class="range-tag min">← 小：???</span>
                    <span id="range-max" class="range-tag max">大：??? →</span>
                </div>
            </div>
            
            <div class="header-buttons">
                <button id="history-btn" class="btn-history">履歴</button>
                
                <div id="host-controls" class="header-buttons hidden">
                    <button id="next-game-btn" class="btn-next">次のゲームへ</button>
                    <button id="reveal-btn" class="btn-reveal">OPEN</button>
                    <button id="reset-btn" class="btn-reset">リセット</button>
                </div>
            </div>
        </header>

        <div id="member-bar" class="member-bar">
            <div class="member-summary">
                <span id="member-count">参加者: 0人</span>
                <button id="toggle-members" class="btn-sm">▼ 詳細</button>
            </div>
            <div id="member-list" class="member-list hidden">
                </div>
        </div>

        <main>
            <p class="field-label">小さい順に並べてください（←小 大→）</p>
            
            <div id="field-area" class="card-list"></div>

            <div id="result-overlay" class="result-overlay hidden">
                <div class="result-box">
                    <h2 id="result-title">SUCCESS!</h2>
                    <p id="result-desc">判定結果がここに表示されます</p>
                    <button id="close-result" class="btn-play">閉じる</button>
                </div>
            </div>
        </main>

        <footer>
            <div id="hand-area" class="hand-wrapper">
                <div id="my-card" class="card my-card">?</div>
            </div>
            <button id="play-btn" class="btn-play">カードを出す</button>
        </footer>
    </div>

    <div id="history-modal" class="modal hidden">
        <div class="modal-content">
            <span id="close-history" class="close-btn">&times;</span>
            <h2>これまでの戦績</h2>
            <div id="history-list" class="history-list">
                <p>まだ履歴はありません</p>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>